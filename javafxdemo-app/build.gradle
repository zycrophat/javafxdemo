plugins {
    id 'application'
}

//project.sourceCompatibility = 1.10
//project.targetCompatibility = 1.10

mainClassName = 'steffan.javafxdemo.app.Main'

dependencies {
    implementation 'com.google.guava:guava:23.0'

    implementation project(':javafxdemo-core')
    
    runtimeOnly project(':javafxdemo-fxview')
    runtimeOnly project(':javafxdemo-csvpersistence')

    testImplementation 'junit:junit:4.12'
    testImplementation 'org.mockito:mockito-core:2.+'
}

javaModule.name = 'steffan.javafxdemo.app'

javaModule.extraTestModules = ['junit', 'hamcrest.core', 'org.mockito']

test {
    doFirst {
        jvmArgs += [
            '--add-opens', "${javaModule.name}/steffan.javafxdemo.app.main=junit",
        ]
    }
}

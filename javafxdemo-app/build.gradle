plugins {
    id 'application'
}

mainClassName = 'steffan.javafxdemo.app.Main'

dependencies {
    api project(':javafxdemo-core')
    
    runtimeOnly project(':javafxdemo-fxview')
    runtimeOnly project(':javafxdemo-csvpersistence')
}

javaModule.name = 'steffan.javafxdemo.app'

javaModule.extraTestModules = ['junit', 'hamcrest.core', 'org.mockito']

test {
    doFirst {
        jvmArgs += [
            '--add-opens', "${javaModule.name}/steffan.javafxdemo.app=junit"
        ]
    }
}

tasks.compileJava.dependsOn(':javafxdemo-core:compileJava')
